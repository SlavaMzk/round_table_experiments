TODO: add simple implementation of MVI and improve it